<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>租金计算器 - 益租宝</title>
<meta name="keywords" content="移动设备管理,手机租赁管理,手机租赁服务,监管锁,激活锁,设备锁,远程锁机">
<meta name="description" content="移动设备管理,手机租赁管理,手机租赁服务,监管锁,激活锁,设备锁,远程锁机">
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
<link rel="stylesheet" href="static_files/layui.css" media="all">
<link rel="stylesheet" href="static_files/admin.css" media="all">
<link rel="stylesheet" href="static_files/login.css" media="all">
<link id="layuicss-layer" rel="stylesheet" href="static_files/layer.css" media="all"></head>
<body>
<script>
if (typeof(require) == 'function'){
	var gui = require('nw.gui'),
		win = gui.Window.get();
		win.width = 440;
		win.height = 400;
		window.setTimeout(function(){
			win.setPosition('center');
			win.show();
		},200);
}	
</script>
<style>
    .wd32{
      
        display:inline-block;
    }
   .layadmin-user-login-body .layui-form-item .layui-input {
    padding-left: 10px;
}

  .center-container {
    display: flex;
    justify-content: center;
  }
  .center-container .layui-logo {
    text-align: center;
  }
    
</style>
<div class="layadmin-user-login layadmin-user-display-show" id="LAY-user-login" style="padding-top: 1px;">
      
    <div class="layui-form" lay-filter="component-form-element">
        <div style="position: absolute; top: 10px; right: 20px;">  
            <!--<input type="checkbox" id="chkHidden" lay-skin="switch" lay-text="展示|隐藏">-->
        </div>  
    </div>
 
            
            
    <form class="layui-form">
            
        <div class="layadmin-user-login-box layadmin-user-login-body layui-form" style="padding: 30px 20px 20px 20px;">
        <div class="center-container">
    		<div class="layui-logo"><svg t="1689933788644" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4237" width="128" height="128"><path d="M904.256 341.504c-161.024 106.112-139.328 329.184 27.488 413.088-29.408 88.448-75.584 166.848-142.912 231.808-36.832 35.552-80.864 46.976-130.528 29.568-14.112-4.928-28.352-9.504-42.176-15.168-56.096-23.008-111.648-21.6-168 0.192-102.944 39.808-142.368 28.352-211.36-58.144-81.856-102.592-129.504-219.2-142.368-349.696-7.744-78.624 4.576-153.792 45.12-222.752 62.336-106.016 179.744-151.072 293.568-105.184 59.872 24.128 112.704 24.576 171.68-0.352 94.56-39.936 184.704-27.104 264.896 39.232C882.528 314.72 892.576 328.704 904.256 341.504z" p-id="4238" fill="#1296db"></path><path d="M716.416 0.288c11.52 121.344-94.4 240.896-199.584 228.192C494.656 123.904 608.16-7.136 716.416 0.288z" p-id="4239" fill="#1296db"></path></svg><br>
    		<span style="align:center"><b>益租宝8</b></span><br>
    		<span style="align:center"><b>租金计算器</b></span>
    		</div>
    		</div>
		<div style="margin-top:30px;" id="ttt">
		  输入设备价格,租期,押金比例！
		</div>

		<div class="layui-form-item login-tips" style="font-size:16px;"></div>
        <div class="layui-form-item">
          <input type="number" name="price" id="price" placeholder="请输入设备价格" class="layui-input" style="height:50px;font-size:16px;" required="">
		  <input type="hidden" name="serial" value="">
        </div>
        <div class="layui-form-item">
			<select name="period" id="period" lay-verify="required" lay-search="readonly">
		    <option value="0" selected="selected">请选择租期</option>
		        <option value="3">3期</option>
		        <option value="4">4期</option>
		        <option value="5">5期</option>
		        <option value="6">6期</option>
		        <option value="7">7期</option>
		        <option value="8">8期</option>
		        <option value="9">9期</option>
		        <option value="10">10期</option>
		        <option value="11">11期</option>
		        <option value="12">12期</option>
            </select><div class="layui-form-select"><div class="layui-select-title"><input type="text" placeholder="请选择" value="请选择租期" class="layui-input"><i class="layui-edge"></i></div><dl class="layui-anim layui-anim-upbit"><dd lay-value="0" class="layui-this">请选择租期</dd><dd lay-value="3" class="">3期</dd><dd lay-value="4" class="">4期</dd><dd lay-value="5" class="">5期</dd><dd lay-value="6" class="">6期</dd><dd lay-value="7" class="">7期</dd><dd lay-value="8" class="">8期</dd><dd lay-value="9" class="">9期</dd><dd lay-value="10" class="">10期</dd><dd lay-value="11" class="">11期</dd><dd lay-value="12" class="">12期</dd></dl></div>
        </div>
        <div class="layui-form-item">
             
            <input type="text" name="rate" id="rate" placeholder="请输入比例或具体金额,如30%或2000" class="layui-input" style="height:50px;font-size:16px;" required="">
        </div>
       
        <div class="layui-form-item">
		  <input type="button" id="btn_calc" value="立即计算" class="layui-btn layui-btn-nromal layui-btn-fluid" lay-submit="" lay-filter="LAY-user-login-submit" style="height:50px;margin-top:20px;font-size:18px;">
        </div>
         
        <div class="layui-form-item" id="result_calc" hidden="">
            
		<table class="layui-table" lay-skin="line" style="width:100%;" id="tbDetail">
		<thead>
		  <tr>
			<th style="width:140px;">项目</th>
			<th style="width:150px;">说明</th>
			<th style="width:300px;">金额</th>
		  </tr> 
		</thead>
		<tbody>
		  <tr>
			<td>设备金额</td>
			<td>采购价</td>
			<td id="td_price">金额</td>
		  </tr> 
		  <tr>
			<td>服务费</td>
			<td></td>
			<td id="td_fee">金额</td>
		  </tr> 
		  <tr>
			<td>总金额</td>
			<td>说明</td>
			<td id="td_total">金额</td>
		  </tr> 
		</tbody>
        </table>
		<table class="layui-table" lay-skin="line" style="width:100%;">
		<thead>
		  <tr>
			<th style="width:140px;">期数</th>
			<th style="width:150px;">付款日</th>
			<th style="width:300px;">租金</th>
		  </tr> 
		</thead>
		<tbody id="tb_rentdetail">
		    
		</tbody>
		</table>    
        </div>
    </div>  
    </form>
  </div>
<script src="static_files/admin/js/layui.js"></script>
<script src="static_files/admin/js/jquery-3.2.1.min.js"></script>
<script>
  layui.config({
    base: 'static_files/admin/js/'
  }).extend({
    index: 'lib/index'
  }).use(['index','form'], function(){
    var $ = layui.$,admin = layui.admin,
    form = layui.form;
	$('input').click(function(){$('.login-tips').html('')});
	
    $("#btn_calc").on('click', function () {
        if(parseInt($("#period").val())<1){
            alert("请选择租赁期数");
            return;
        }
        else if(parseInt($("#rate").val())<1){
            alert("请选择押金比例");
            return;
        }
        else if(parseInt($("#price").val())<1){
            alert("请输入设备价格");
            return;
        }
        
    	$("#result_calc").attr("hidden",false);
    	$("#tb_rentdetail").html("");
    	var date = new Date();
    	
    	var price  = parseInt($("#price").val());
    	var rate   = parseInt($("#rate").val());
    	var period = parseInt($("#period").val());

        var fee = 0;
        if(price >= 0 && 0>0) {
            fee = price * 0 / 100
        }else if(price >= 0 && 0>0) {
            fee = price * 0 / 100
        }else if(price >= 0 && 0>0) {
            fee = price * 0 / 100
        }

        fee = parseInt(fee);
        if(rate > 100) {
            firstpay = rate;
        }else{
            firstpay = parseInt(price * rate/100);
        }
        
        
        if(0 == 1) {
        	rentprice = (price + fee - firstpay)*(1+(period)*8/100);
        	monthpay = parseInt(rentprice/period);
            firstpay = firstpay + monthpay;
        }
        else
        {
        	rentprice = (price + fee - firstpay)*(1+(period)*8/100);
        	monthpay = parseInt(rentprice/(period-1));
        }
        
        var total = 0;
        for(let i = 0;i<$("#period").val();i++){
            year = date.getFullYear().toString().padStart(4, '0');
            month = (date.getMonth() + 1).toString().padStart(2, '0');
            day = date.getDate().toString().padStart(2, '0');
            date.setMonth(parseInt(date.getMonth())+1);
            if(i == 0){
    	        newRowContent = "<tr><td>首期款</td><td>" + year +"-"+month+"-"+day + "</td><td>" + firstpay + "元</td></tr>";
    	        total = total + firstpay;
            }
            else
            {
                newRowContent = "<tr><td>第"+ parseInt(i+1) +"期</td><td>" + year +"-"+month+"-"+day + "</td><td>" + monthpay + "元</td></tr>";
                total = total + monthpay;
            }
    	    $("#tb_rentdetail").append(newRowContent);
        }
        
        if($("#chkHidden").prop("checked")) {
            $("#tbDetail").attr("hidden",false);
        }
        else{
            $("#tbDetail").attr("hidden",true);
        }
        $("#td_price").text(price + '元');
        $("#td_fee").text(fee + '元');
        $("#td_total").text(total + '元');
        
    });
  });
 $(document).ready(function() {  
        $('#rate').change(function() {  
            var value = $(this).val();  
            if(parseInt(value)<100){
                if (value[value.length - 1] !== '%' && value !== '') {  
                    $(this).val(value + '%');  
                }
            }
        });  
    });  

  
</script>

</body></html>